// This source code is subject to the terms of the GNU General Public License, version 3
// @version=1
// by @ezPappi
// Based on script of Shadmar @ Tekinvestor.no
study(title="Minervinis Template", shorttitle="Minerviniâ€™s Template", overlay=true, max_bars_back = 4000)

sma50=sma(close,50)
sma150=sma(close,150)
sma200=sma(close,200)
trend30days=sma(close[22],200) < sma(close[11],200) and  sma(close[11],200) < sma(close,200)
lowest30=lowest(low, 250)*1.3
highest75=highest(high, 250)*0.75

step1 = close > sma150 and close > sma200
step2 = sma150 > sma200
step3 = trend30days
step4 = sma50 > sma150 and sma50 > sma200
step5 = close > sma50
step6 = close > lowest30
step7 = close > highest75

up = step1 and step2 and step3 and step4 and step5 and step6 and step7
COL = up ? green : red

bgcolor(color=COL, transp=90)
plot(sma50, color=blue, linewidth=1)
plot(sma150, color=orange, linewidth=1)
plot(sma200, color=red, linewidth=1)
plot(highest75, color=green, linewidth=1)
plot(lowest30,color=red, linewidth=1)
plot(close, color=COL,linewidth=15,transp=80)
plot(sma50, color=blue, linewidth=1)
plot(sma150, color=orange, linewidth=1)
plot(sma200, color=red, linewidth=1)
plot(highest75, color=green, linewidth=1)
plot(lowest30,color=red, linewidth=1)
